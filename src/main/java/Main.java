import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        String StringCalc_logo = """
                                
                                
                          _____                _____                    _____                    _____                    _____                    _____                    _____                    _____                    _____            _____         \s
                         /\\    \\              /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\          /\\    \\        \s
                        /::\\    \\            /::\\    \\                /::\\    \\                /::\\    \\                /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\                /::\\____\\        /::\\    \\       \s
                       /::::\\    \\           \\:::\\    \\              /::::\\    \\               \\:::\\    \\              /::::|   |               /::::\\    \\              /::::\\    \\              /::::\\    \\              /:::/    /       /::::\\    \\      \s
                      /::::::\\    \\           \\:::\\    \\            /::::::\\    \\               \\:::\\    \\            /:::::|   |              /::::::\\    \\            /::::::\\    \\            /::::::\\    \\            /:::/    /       /::::::\\    \\     \s
                     /:::/\\:::\\    \\           \\:::\\    \\          /:::/\\:::\\    \\               \\:::\\    \\          /::::::|   |             /:::/\\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\          /:::/    /       /:::/\\:::\\    \\    \s
                    /:::/__\\:::\\    \\           \\:::\\    \\        /:::/__\\:::\\    \\               \\:::\\    \\        /:::/|::|   |            /:::/  \\:::\\    \\        /:::/  \\:::\\    \\        /:::/__\\:::\\    \\        /:::/    /       /:::/  \\:::\\    \\   \s
                    \\:::\\   \\:::\\    \\          /::::\\    \\      /::::\\   \\:::\\    \\              /::::\\    \\      /:::/ |::|   |           /:::/    \\:::\\    \\      /:::/    \\:::\\    \\      /::::\\   \\:::\\    \\      /:::/    /       /:::/    \\:::\\    \\  \s
                  ___\\:::\\   \\:::\\    \\        /::::::\\    \\    /::::::\\   \\:::\\    \\    ____    /::::::\\    \\    /:::/  |::|   | _____    /:::/    / \\:::\\    \\    /:::/    / \\:::\\    \\    /::::::\\   \\:::\\    \\    /:::/    /       /:::/    / \\:::\\    \\ \s
                 /\\   \\:::\\   \\:::\\    \\      /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /\\   \\  /:::/\\:::\\    \\  /:::/   |::|   |/\\    \\  /:::/    /   \\:::\\ ___\\  /:::/    /   \\:::\\    \\  /:::/\\:::\\   \\:::\\    \\  /:::/    /       /:::/    /   \\:::\\    \\\s
                /::\\   \\:::\\   \\:::\\____\\    /:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/::\\   \\/:::/  \\:::\\____\\/:: /    |::|   /::\\____\\/:::/____/  ___\\:::|    |/:::/____/     \\:::\\____\\/:::/  \\:::\\   \\:::\\____\\/:::/____/       /:::/____/     \\:::\\____\\
                \\:::\\   \\:::\\   \\::/    /   /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\  /:::/    \\::/    /\\::/    /|::|  /:::/    /\\:::\\    \\ /\\  /:::|____|\\:::\\    \\      \\::/    /\\::/    \\:::\\  /:::/    /\\:::\\    \\       \\:::\\    \\      \\::/    /
                 \\:::\\   \\:::\\   \\/____/   /:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____/ |::| /:::/    /  \\:::\\    /::\\ \\::/    /  \\:::\\    \\      \\/____/  \\/____/ \\:::\\/:::/    /  \\:::\\    \\       \\:::\\    \\      \\/____/\s
                  \\:::\\   \\:::\\    \\      /:::/    /                 |:::::::::/    /    \\::::::/    /                   |::|/:::/    /    \\:::\\   \\:::\\ \\/____/    \\:::\\    \\                       \\::::::/    /    \\:::\\    \\       \\:::\\    \\            \s
                   \\:::\\   \\:::\\____\\    /:::/    /                  |::|\\::::/    /      \\::::/____/                    |::::::/    /      \\:::\\   \\:::\\____\\       \\:::\\    \\                       \\::::/    /      \\:::\\    \\       \\:::\\    \\           \s
                    \\:::\\  /:::/    /    \\::/    /                   |::| \\::/____/        \\:::\\    \\                    |:::::/    /        \\:::\\  /:::/    /        \\:::\\    \\                      /:::/    /        \\:::\\    \\       \\:::\\    \\          \s
                     \\:::\\/:::/    /      \\/____/                    |::|  ~|               \\:::\\    \\                   |::::/    /          \\:::\\/:::/    /          \\:::\\    \\                    /:::/    /          \\:::\\    \\       \\:::\\    \\         \s
                      \\::::::/    /                                  |::|   |                \\:::\\    \\                  /:::/    /            \\::::::/    /            \\:::\\    \\                  /:::/    /            \\:::\\    \\       \\:::\\    \\        \s
                       \\::::/    /                                   \\::|   |                 \\:::\\____\\                /:::/    /              \\::::/    /              \\:::\\____\\                /:::/    /              \\:::\\____\\       \\:::\\____\\       \s
                        \\::/    /                                     \\:|   |                  \\::/    /                \\::/    /                \\::/____/                \\::/    /                \\::/    /                \\::/    /        \\::/    /       \s
                         \\/____/                                       \\|___|                   \\/____/                  \\/____/                                           \\/____/                  \\/____/                  \\/____/          \\/____/        \s
                                                                                                                                                                                                                                                             \s
                                
                """;
        System.out.println("Welcome to StringCalc!");
        System.out.println(StringCalc_logo);
        System.out.println("Enter your Expression here!");
        String expression = sc.nextLine();

        // Evaluate the expression
        Calculator calculator = new Calculator();
        try {
            double result = calculator.evaluate(expression);
            System.out.println("Result: " + result);
        } catch (IllegalArgumentException e) {
            System.out.println("Error: " + e.getMessage());
        }
        sc.close();
    }
}

class Calculator {
    public double evaluate(String expression) {
        if (!isValidExpression(expression)) {
            throw new IllegalArgumentException("Invalid expression format");
        }
        String[] tokens = expression.split("(?<=\\d)(?=\\D)|(?<=\\D)(?=\\d)");
        double result = Double.parseDouble(tokens[0]);

        for (int i = 1; i < tokens.length; i += 2) {
            String operator = tokens[i];
            double operand = Double.parseDouble(tokens[i + 1]);
            switch (operator) {
                case "+":
                    result += operand;
                    break;
                case "-":
                    result -= operand;
                    break;
                case "*":
                    result *= operand;
                    break;
                default:
                    throw new IllegalArgumentException("Invalid operator: " + operator);
            }
        }

        return result;
    }

    private boolean isValidExpression(String expression) {
        // Check if the expression contains only digits and +,-,and *.
        return expression.matches("^\\d+(?:[+\\-*]\\d+)*$");
    }
}
